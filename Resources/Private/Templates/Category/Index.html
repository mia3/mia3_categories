{namespace c=Mia3\Mia3Categories\ViewHelpers}

<f:section name="CategoryItem">
	<f:cycle values="{0: 'odd', 1: 'even'}" as="zebraClass">
		<li class="uk-nestable-item item {zebraClass}" data-uid="{category.uid}">
	</f:cycle>
	<div class="uk-nestable-panel item-title">
		<a href="#" class="icon">
			<span class="icon-markup">
				<img src="/typo3/sysext/core/Resources/Public/Icons/T3Icons/mimetypes/mimetypes-x-sys_category.svg" width="16" height="16">
			</span>
		</a>
		{category.title}

		<div class="btn-group" role="group">
			<c:be.editLink uid="{category.uid}" class="btn btn-default">
				<span class="icon-markup">
					<img src="/typo3/sysext/core/Resources/Public/Icons/T3Icons/actions/actions-open.svg" width="16" height="16">
				</span>
			</c:be.editLink>
			<!-- <a class="btn btn-default t3js-record-hide" data-state="visible" href="#" data-params="data[sys_category][83][hidden]=1" title="" data-toggle-title="Un-hide record" data-original-title="Hide record">
				<span class="icon-markup">
					<img src="/typo3/sysext/core/Resources/Public/Icons/T3Icons/actions/actions-edit-hide.svg" width="16" height="16">
				</span>
			</a> -->
			<!-- <a class="btn btn-default t3js-record-delete" href="#" data-l10parent="0" data-params="cmd[sys_category][83][delete]=1" data-title="Leistungen (83)" data-message="Are you sure you want to delete this record? &quot;Leistungen (83)&quot; [sys_category:83] (There are 4 reference(s) to this record!)"
			title="" data-original-title="Delete record (!)">
				<span class="icon-markup">
					<img src="/typo3/sysext/core/Resources/Public/Icons/T3Icons/actions/actions-edit-delete.svg" width="16" height="16">
				</span>
			</a> -->
		</div>
	</div>
	<f:if condition="{category.children}">
		<ul class="uk-nestable" data-uk-nestable="">
			<f:for each="{category.children}" as="child">
				<f:render section="CategoryItem" arguments="{category: child}" />
			</f:for>
		</ul>
	</f:if>
	</li>
</f:section>

<f:link.action action="batchCreate">Batch Create</f:link.action>

<f:be.container>
<ul class="uk-nestable items" data-uk-nestable="" data-position-update-uri="{f:uri.action(action: 'updateSorting')}">
	<f:for each="{categories}" as="category">
		<f:render section="CategoryItem" arguments="{category: category}" />
	</f:for>
</ul>

<script src="{f:uri.resource(path:'Components/jquery/jquery.js')}"></script>
<script src="{f:uri.resource(path:'Components/uikit/js/uikit.min.js')}"></script>
<script src="{f:uri.resource(path:'Components/uikit/js/components/nestable.min.js')}"></script>
<script src="{f:uri.resource(path:'Main.js')}"></script>
<link href="{f:uri.resource(path:'Components/uikit/css/components/nestable.css')}" rel="stylesheet" />
<link href="{f:uri.resource(path:'Main.css')}" rel="stylesheet" />

</f:be.container>
